{"ast":null,"code":"var _jsxFileName = \"/Users/kevin/Desktop/Weather/src/pages/Search.js\",\n  _s = $RefreshSig$();\n// this page is used to show the city which can be searched for weather data\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { WeatherDataContext } from '../components/Data';\nimport { fetchWeatherApi } from 'openmeteo';\nimport '../Css/Search.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Search = ({\n  isOpen,\n  toggleSearchModal,\n  initialQuery\n}) => {\n  _s();\n  const {\n    fetchWeatherData\n  } = useContext(WeatherDataContext);\n  const [search, setSearch] = useState(initialQuery || '');\n  const [cityLookup, setCityLookup] = useState([]);\n  useEffect(() => {\n    setSearch(initialQuery || '');\n  }, [initialQuery]);\n  useEffect(() => {\n    if (search.length < 2) {\n      setCityLookup([]);\n      return;\n    }\n    const fetchCities = async () => {\n      try {\n        const geoResponse = await fetchWeatherApi('https://geocoding-api.open-meteo.com/v1/search', {\n          name: search,\n          count: 10\n        });\n        setCityLookup(geoResponse);\n      } catch (error) {\n        console.error('Error fetching city data:', error);\n        setCityLookup([]);\n      }\n    };\n    fetchCities();\n  }, [search]);\n  const handleCitySelect = cityName => {\n    fetchWeatherData(cityName);\n    toggleSearchModal();\n    setSearch('');\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-modal\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/200/svg\",\n        viewBox: \"0 0 24 24\",\n        className: \"icon-small back-button\",\n        onClick: toggleSearchModal,\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-input-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search for a city...\",\n          value: search,\n          onChange: e => setSearch(e.target.value),\n          className: \"search-input\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), search.length <= 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-placeholder\",\n      children: [/*#__PURE__*/_jsxDEV(\"cvg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        viewBox: \"0 0 24 24\",\n        className: \"icon-medium\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0  16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1. 57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), \"Search for a city\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-results\",\n      children: cityLookup.map((city, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-result-item\",\n        onClick: () => handleCitySelect(city.name),\n        children: [city.name, \", \", city.countryIndex]\n      }, `item-${index}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n_s(Search, \"gFhXOcjPnR9dZeJ1CEJOCQIYi7Y=\");\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useEffect","useContext","WeatherDataContext","fetchWeatherApi","jsxDEV","_jsxDEV","Search","isOpen","toggleSearchModal","initialQuery","_s","fetchWeatherData","search","setSearch","cityLookup","setCityLookup","length","fetchCities","geoResponse","name","count","error","console","handleCitySelect","cityName","className","children","xmlns","viewBox","onClick","d","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","autoFocus","map","city","index","countryIndex","_c","$RefreshReg$"],"sources":["/Users/kevin/Desktop/Weather/src/pages/Search.js"],"sourcesContent":["// this page is used to show the city which can be searched for weather data\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { WeatherDataContext } from '../components/Data';\nimport { fetchWeatherApi } from 'openmeteo';\nimport '../Css/Search.css'; \n\nconst Search = ({ isOpen, toggleSearchModal, initialQuery}) => {\n    const { fetchWeatherData } = useContext(WeatherDataContext);\n    const [ search, setSearch ] = useState(initialQuery || '');\n    const [ cityLookup, setCityLookup ] = useState([]);\n\n    useEffect(() => {\n        setSearch(initialQuery || '');\n    }, [initialQuery]);\n\n    useEffect(() => {\n        if (search.length < 2) {\n            setCityLookup([]);\n            return;\n        }\n\n        const fetchCities = async () => {\n            try {\n                const geoResponse = await fetchWeatherApi('https://geocoding-api.open-meteo.com/v1/search', {\n                    name: search,\n                    count: 10,\n                });\n                setCityLookup(geoResponse);\n            } catch (error) {\n                console.error('Error fetching city data:', error);\n                setCityLookup([]);\n            }\n        };\n        fetchCities();\n    }, [search]);\n\n    const handleCitySelect = (cityName) => {\n        fetchWeatherData(cityName);\n        toggleSearchModal();\n        setSearch('');\n    }\n\n    if (!isOpen) return null; \n\n    return (\n        <div className='search-modal'>\n            <div className='search-header'>\n                <svg\n                    xmlns=\"http://www.w3.org/200/svg\"\n                    viewBox='0 0 24 24'\n                    className='icon-small back-button'\n                    onClick={toggleSearchModal}\n                >\n                    <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />\n                </svg>\n                <div className='search-input-wrapper'>\n                    <input\n                        type='text'\n                        placeholder='Search for a city...'\n                        value={search}\n                        onChange={(e) => setSearch(e.target.value)}\n                        className='search-input'\n                        autoFocus\n                    />\n                </div>\n            </div>\n\n            {search.length <= 1 && (\n                <div className='search-placeholder'>\n                    <cvg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        viewBox='0 0 24 24'\n                        className='icon-medium'\n                    >\n                        <path d=\"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 \n                        16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.\n                        57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01\n                         14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" />\n                    </cvg>\n                    Search for a city\n                </div>\n            )}\n\n            <div className='search-results'>\n                {cityLookup.map((city, index) => (\n                    <div\n                        key={`item-${index}`}\n                        className='search-result-item'\n                        onClick={() => handleCitySelect(city.name)}\n                    >\n                        {city.name}, {city.countryIndex}\n                    </div>\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Search;"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,kBAAkB,QAAQ,oBAAoB;AACvD,SAASC,eAAe,QAAQ,WAAW;AAC3C,OAAO,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3B,MAAMC,MAAM,GAAGA,CAAC;EAAEC,MAAM;EAAEC,iBAAiB;EAAEC;AAAY,CAAC,KAAK;EAAAC,EAAA;EAC3D,MAAM;IAAEC;EAAiB,CAAC,GAAGV,UAAU,CAACC,kBAAkB,CAAC;EAC3D,MAAM,CAAEU,MAAM,EAAEC,SAAS,CAAE,GAAGd,QAAQ,CAACU,YAAY,IAAI,EAAE,CAAC;EAC1D,MAAM,CAAEK,UAAU,EAAEC,aAAa,CAAE,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAElDC,SAAS,CAAC,MAAM;IACZa,SAAS,CAACJ,YAAY,IAAI,EAAE,CAAC;EACjC,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAElBT,SAAS,CAAC,MAAM;IACZ,IAAIY,MAAM,CAACI,MAAM,GAAG,CAAC,EAAE;MACnBD,aAAa,CAAC,EAAE,CAAC;MACjB;IACJ;IAEA,MAAME,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACA,MAAMC,WAAW,GAAG,MAAMf,eAAe,CAAC,gDAAgD,EAAE;UACxFgB,IAAI,EAAEP,MAAM;UACZQ,KAAK,EAAE;QACX,CAAC,CAAC;QACFL,aAAa,CAACG,WAAW,CAAC;MAC9B,CAAC,CAAC,OAAOG,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjDN,aAAa,CAAC,EAAE,CAAC;MACrB;IACJ,CAAC;IACDE,WAAW,CAAC,CAAC;EACjB,CAAC,EAAE,CAACL,MAAM,CAAC,CAAC;EAEZ,MAAMW,gBAAgB,GAAIC,QAAQ,IAAK;IACnCb,gBAAgB,CAACa,QAAQ,CAAC;IAC1BhB,iBAAiB,CAAC,CAAC;IACnBK,SAAS,CAAC,EAAE,CAAC;EACjB,CAAC;EAED,IAAI,CAACN,MAAM,EAAE,OAAO,IAAI;EAExB,oBACIF,OAAA;IAAKoB,SAAS,EAAC,cAAc;IAAAC,QAAA,gBACzBrB,OAAA;MAAKoB,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC1BrB,OAAA;QACIsB,KAAK,EAAC,2BAA2B;QACjCC,OAAO,EAAC,WAAW;QACnBH,SAAS,EAAC,wBAAwB;QAClCI,OAAO,EAAErB,iBAAkB;QAAAkB,QAAA,eAE3BrB,OAAA;UAAMyB,CAAC,EAAC;QAA8D;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxE,CAAC,eACN7B,OAAA;QAAKoB,SAAS,EAAC,sBAAsB;QAAAC,QAAA,eACjCrB,OAAA;UACI8B,IAAI,EAAC,MAAM;UACXC,WAAW,EAAC,sBAAsB;UAClCC,KAAK,EAAEzB,MAAO;UACd0B,QAAQ,EAAGC,CAAC,IAAK1B,SAAS,CAAC0B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UAC3CZ,SAAS,EAAC,cAAc;UACxBgB,SAAS;QAAA;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EAELtB,MAAM,CAACI,MAAM,IAAI,CAAC,iBACfX,OAAA;MAAKoB,SAAS,EAAC,oBAAoB;MAAAC,QAAA,gBAC/BrB,OAAA;QACIsB,KAAK,EAAC,4BAA4B;QAClCC,OAAO,EAAC,WAAW;QACnBH,SAAS,EAAC,aAAa;QAAAC,QAAA,eAEvBrB,OAAA;UAAMyB,CAAC,EAAC;QAGuD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjE,CAAC,qBAEV;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACR,eAED7B,OAAA;MAAKoB,SAAS,EAAC,gBAAgB;MAAAC,QAAA,EAC1BZ,UAAU,CAAC4B,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBACxBvC,OAAA;QAEIoB,SAAS,EAAC,oBAAoB;QAC9BI,OAAO,EAAEA,CAAA,KAAMN,gBAAgB,CAACoB,IAAI,CAACxB,IAAI,CAAE;QAAAO,QAAA,GAE1CiB,IAAI,CAACxB,IAAI,EAAC,IAAE,EAACwB,IAAI,CAACE,YAAY;MAAA,GAJ1B,QAAQD,KAAK,EAAE;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAKnB,CACR;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAAAxB,EAAA,CA1FKJ,MAAM;AAAAwC,EAAA,GAANxC,MAAM;AA4FZ,eAAeA,MAAM;AAAC,IAAAwC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}